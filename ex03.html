<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <title>Simple Calculator</title>
  </head>
  <body>
    <div class="container">
      <h1>Simple Calculator</h1>
      <br>
      <form class="row gy-2 gx-3 align-items-center">
        <div class="col-auto">
          <input type="number" id="number1" class="form-control" placeholder="First number" />
        </div>
        <div class="col-auto">
          <label class="visually-hidden" for="operator">Preference</label>
          <select class="form-select" id="operator">
            <option selected>Operator</option>
            <option value="+">+</option>
            <option value="-">-</option>
            <option value="*">*</option>
            <option value="/">/</option>
          </select>
        </div>
        <div class="col-auto">
          <input type="number" id="number2" class="form-control" placeholder="Second number" />        
        </div>
        <div class="col-auto">
          <button id="btn" type="button" class="form-control btn btn-outline-success" pys-onClick="on_click">Calculate</button>
        </div>
      </form>
      <br>
      <div class="h5" id="result"></div>
    </div>
    <py-script>
        
      num1 = Element("number1")
      num2 = Element("number2")
      operator = Element("operator")
      result = Element("result")

      def calculator(num1, num2, operator):
        if operator == "+":
          return num1 + num2
        elif operator == "-":
          return num1 - num2
        elif operator == "*":
          return num1 * num2
        elif operator == "/":
          return num1 / num2
        else:
          return None
      
      def on_click(*args, **kwargs):
        value = calculator(int(num1.value), int(num2.value), operator.value)
        if value is not None:
          result.write(f'Result : {value}')
        else:
          result.write("Error. Try again")
    </py-script>
  </body>
</html>